name: deploy-demo

on:
  push:
    branches: [main] # mian åˆ†æ”¯æœ‰ push æ—¶è§¦å‘

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:

      # ä¸‹è½½æºç 
      # è¿™ä¸€æ­¥å°±æ˜¯æ£€å‡ºä½ çš„ä»“åº“å¹¶ä¸‹è½½é‡Œé¢çš„ä»£ç åˆ°runnerä¸­,actions/checkout@v2æ˜¯å®˜æ–¹è‡ªå·±é€ çš„è½®å­ï¼Œç›´æ¥æ‹¿æ¥ç”¨å°±è¡Œ
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: .
          token: ${{ secrets.GIT_PAGES_TOKEN }} # secret å

      - name: Sync to Gitee
        uses: wearerequired/git-mirror-action@master
        env:
          # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_RSA_PRIVATE_KEY
          SSH_PRIVATE_KEY: ${{ secrets.GITEE_RSA_PRIVATE_KEY }}
        with:
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€
          source-repo: git@github.com:wuguanghong98/recorded-docs.git
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€
          destination-repo: git@gitee.com:wuguanghong98/recorded-docs.git